#https://docs.dapr.io/developing-applications/local-development/multi-app-dapr-run/multi-app-template/
version: 1
common:
  resourcesPath: ./components
  # env:
  #   DEBUG: true
apps:
  - appID: gateway
    appDirPath: ./
    appPort: 3000
    daprHTTPPort: 8000
    command: ["go","run", "gateway/main.go", "gateway/transfersvc.go"]
    env:
      GATEWAY_PORT: 3000
  - appID: balance
    appDirPath: ./
    appPort: 3002
    daprHTTPPort: 8002
    command: ["go","run", "balanceservice/main.go"]
    env:
      BALANCE_PORT: 3002
      BALANCE_DB_DRIVER: sqlite3
      BALANCE_DB_DATASOURCE: file:localdev/sqlitedata/main.db
  - appID: transaction
    appDirPath: .
    appPort: 3001
    daprHTTPPort: 8001
    command: ["go","run", "transaction/main.go"]